<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden - Realtime Interviewer</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='16' cy='16' r='16' fill='%232a6ed1'/%3e%3ctext x='16' y='22' text-anchor='middle' font-family='Arial, sans-serif' font-size='20' font-weight='bold' fill='white'%3eA%3c/text%3e%3c/svg%3e">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,%3csvg width='180' height='180' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='90' cy='90' r='90' fill='%232a6ed1'/%3e%3ctext x='90' y='120' text-anchor='middle' font-family='Arial, sans-serif' font-size='100' font-weight='bold' fill='white'%3eA%3c/text%3e%3c/svg%3e">
    
    <!-- Fonts imported via global.css -->
    
    <!-- Lucide Icons (Local) -->
    <script src="/static/js/lucide.js"></script>
    
    <!-- Tailwind CSS (Development) -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        // Tailwind configuration
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2a6ed1',
                        background: '#ececec',
                        foreground: '#222',
                        screen: '#f3f3f3'
                    }
                }
            },
            corePlugins: { preflight: true }
        }
        
        // Suppress Tailwind production warning in development
        if (typeof console !== 'undefined' && console.warn) {
            const originalWarn = console.warn;
            console.warn = function(...args) {
                if (args[0] && args[0].includes('cdn.tailwindcss.com should not be used in production')) {
                    return;
                }
                originalWarn.apply(console, args);
            };
        }
    </script>
    
    <!-- Modular CSS -->
    <link rel="stylesheet" href="/static/styles/global.css">
    <link rel="stylesheet" href="/static/styles/buttons.css">
    <link rel="stylesheet" href="/static/styles/interview.css">
    <link rel="stylesheet" href="/static/styles/modal.css">
    <link rel="stylesheet" href="/static/components/nav-component.css">
</head>
<body>
    <div class="container sidebar-collapsed">
        <!-- Navigation Bar -->
        <div id="navigation-container"></div>
        
        <div class="main-content">
            <div class="main-container">
        <!-- Chat Section -->
        <div class="chat-section">
            <div id="messagesContainer" class="messages-container">
                <div class="empty-state" style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                    padding: 60px 20px;
                    color: #333;
                    height: 100%;
                    min-height: 400px;
                ">
                    <!-- Logo -->
                    <div class="athena-logo" style="margin-bottom: 20px;">
                        <img src="/static/athena-logo.png" alt="Golden Logo" style="
                            width: 100px;
                            height: 100px;
                            border-radius: 50%;
                            object-fit: cover;
                        " onerror="this.style.display='none'">
                    </div>

                    <!-- Greeting -->
                    <div class="empty-state-text" style="font-size: 26px; font-weight: bold; margin-bottom: 18px;">
                        <span style="color: var(--primary);">Hi, I'm Golden</span>
                    </div>

                    <!-- Subtext -->
                    <div class="empty-state-subtext" style="font-size: 18px; color: #999; margin-bottom: 5px; line-height: 1.5;">
                        We'll begin with SQL interview questions to assess your skills.
                    </div>

                    <div class="empty-state-subtext" style="font-size: 18px; color: #999; margin-bottom: 30px; line-height: 1.5;">
                        Click the Connect button below to start your SQL interview.
                    </div>

                    <!-- Instructions -->
                    <div style="
                        display: flex;
                        align-items: center;
                        margin-bottom: 15px;
                        font-size: 14px;
                        color: #666;
                        font-weight: bold;
                    ">
                        Your interview will be tracked using your logged-in email address.
                    </div>
                </div>
            </div>
            
            <div class="controls-container">
                <button id="connectBtn" class="button primary" disabled>Connect</button>
                <button id="micBtn" class="button mic-button secondary" disabled>
                    <div class="mic-button-content">
                        <span>Disconnected</span>
                    </div>
                </button>
                <button id="helpBtn" class="button">
                    <span>❓</span>
                    <span>Help</span>
                </button>
            </div>
        </div>
        
        <!-- Right Debug Panel -->
        <div id="debugPanel" class="debug-panel">
            <div class="debug-header">Debug Information</div>
            <div class="debug-content">
                <div class="debug-section">
                    <div class="debug-section-title">Event Stream</div>
                    <div id="eventsContent">
                        <!-- Events will appear here -->
                    </div>
                </div>
                <div class="debug-section">
                    <div class="debug-section-title">Tools & Handoffs</div>
                    <div id="toolsContent">
                        <!-- Tools and handoffs will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="help-modal">
        <div class="help-modal-content">
            <div class="help-modal-header">
                <h2 class="help-modal-title">How to Use Golden</h2>
                <button class="help-close-btn" onclick="closeHelpModal()">×</button>
            </div>
            
            <div class="help-section">
                <div class="help-section-title">Getting Started</div>
                <div class="help-section-content">
                    <ul>
                        <li>Enter your Employee ID in the left panel and click "Submit"</li>
                        <li>Click the "Connect" button to establish a connection</li>
                        <li>Allow microphone permissions when prompted</li>
                        <li>The mic button will show "Connected" when ready</li>
                        <li>Start speaking naturally to begin your SQL interview</li>
                    </ul>
                </div>
            </div>

            <div class="help-section">
                <div class="help-section-title">During the Interview</div>
                <div class="help-section-content">
                    <ul>
                        <li>Golden will introduce herself and assess your SQL skill level</li>
                        <li>Answer questions by speaking clearly into your microphone</li>
                        <li>Questions will progress from basic to advanced based on your responses</li>
                        <li>You can ask for hints or clarification at any time</li>
                        <li>The waveform animation shows when Golden is listening</li>
                    </ul>
                </div>
            </div>

            <div class="help-section">
                <div class="help-section-title">Tips for Success</div>
                <div class="help-section-content">
                    <ul>
                        <li>Speak clearly and at a moderate pace</li>
                        <li>Think out loud to explain your SQL reasoning</li>
                        <li>Don't hesitate to ask questions or request examples</li>
                        <li>Use the debug panel to see real-time conversation data</li>
                    </ul>
                </div>
            </div>

            <div class="help-section">
                <div class="help-section-title">Troubleshooting</div>
                <div class="help-section-content">
                    <ul>
                        <li>Ensure your microphone is working and not muted</li>
                        <li>Check that you're using HTTPS or localhost</li>
                        <li>Refresh the page if connection issues persist</li>
                        <li>Enable the debug panel for detailed connection info</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modular JavaScript -->
    <script src="/static/components/nav-component.js"></script>
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/interview.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>