<!DOCTYPE html>
<html lang="en" class="leetcode-body">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem Solver - Golden Interview Platform</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='16' cy='16' r='16' fill='%23ff4a00'/%3e%3ctext x='16' y='22' text-anchor='middle' font-family='Arial, sans-serif' font-size='20' font-weight='bold' fill='white'%3eA%3c/text%3e%3c/svg%3e">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Modular CSS -->
    <link rel="stylesheet" href="/static/styles/global.css">
    <link rel="stylesheet" href="/static/styles/buttons.css">
    <link rel="stylesheet" href="/static/styles/problems.css">
    <link rel="stylesheet" href="/static/components/nav-component.css">
</head>
<body class="leetcode-body">
    <!-- Minimal Top Bar -->
    <div class="leetcode-topbar">
        <div class="topbar-left">
            <a href="/problems" class="home-icon">
                <div class="nav-logo-icon">A</div>
                Problems
            </a>
            <div class="problem-info">
                <span class="problem-number">Loading...</span>
                <span class="problem-title-dynamic">Loading Problem...</span>
                <span class="problem-difficulty-badge easy">Loading...</span>
            </div>
        </div>
        <div class="topbar-right">
            <div class="user-info">Guest User</div>
            <button class="topbar-logout" onclick="window.location.href='/login'">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16,17 21,12 16,7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                Logout
            </button>
        </div>
    </div>

    <!-- LeetCode Container -->
    <div class="leetcode-container">
        <!-- Left Panel -->
        <div class="left-panel">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="description">Description</button>
                <button class="tab-btn" data-tab="editorial">Editorial</button>
                <button class="tab-btn" data-tab="solutions">Solutions</button>
            </div>

            <!-- Tab Content -->
            <div id="description-tab" class="tab-content active">
                <!-- Problem content will be loaded dynamically here -->
                <div class="loading-state">
                    <p>Loading problem details...</p>
                </div>
            </div>

            <div id="editorial-tab" class="tab-content">
                <div class="editorial-content">
                    <h3>Approach 1: Brute Force</h3>
                    <p>The brute force approach is simple. Loop through each element x and find if there is another value that equals to target − x.</p>
                    
                    <h3>Approach 2: Hash Table</h3>
                    <p>To improve our runtime complexity, we need a more efficient way to check if the complement exists in the array. If the complement exists, we need to get its index. What is the best way to maintain a mapping of each element in the array to its index? A hash table.</p>
                </div>
            </div>

            <div id="solutions-tab" class="tab-content">
                <div class="solutions-content">
                    <p>Solutions will be available after you solve the problem.</p>
                </div>
            </div>
        </div>

        <!-- Resizer -->
        <div class="resizer" id="resizer"></div>

        <!-- Right Panel -->
        <div class="right-panel">
            <!-- Code Header -->
            <div class="code-header">
                <div class="language-selector">
                    <select id="languageSelect">
                        <option value="python">Python3</option>
                        <option value="javascript">JavaScript</option>
                        <option value="java">Java</option>
                        <option value="cpp">C++</option>
                    </select>
                </div>
                <div class="code-actions">
                    <button class="action-btn white" id="resetBtn">Reset</button>
                    <button class="action-btn white" id="runBtn">Run</button>
                    <button class="action-btn primary" id="submitBtn">Submit</button>
                </div>
            </div>

            <!-- Code Editor -->
            <div class="editor-container">
                <textarea id="codeEditor" class="code-editor" placeholder="Loading code template...">// Loading code template...</textarea>
            </div>

            <!-- Console Area -->
            <div class="console-area">
                <div class="console-tabs">
                    <button class="console-tab active" data-console="testcase">Testcase</button>
                    <button class="console-tab" data-console="result">Result</button>
                </div>
                
                <div class="console-content">
                    <div id="testcase-panel" class="console-panel active">
                        <div class="testcase-controls">
                            <div class="case-navigator">
                                <button class="nav-btn" id="prevCase">‹</button>
                                <span id="caseInfo">Case 1 of 3</span>
                                <button class="nav-btn" id="nextCase">›</button>
                            </div>
                        </div>
                        
                        <div class="testcase-input" id="testcaseInput">
                            <!-- Test case inputs will be populated dynamically -->
                            <div class="loading-state">
                                <p>Loading test cases...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="result-panel" class="console-panel">
                        <div class="result-content" id="testcaseResults">
                            <div class="result-placeholder">Run your code to see results here.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/problem.js"></script>
    <script>
        // Only keep resizable panels functionality since everything else is handled by problem.js
        document.addEventListener('DOMContentLoaded', () => {
            // Resizable panels
            const resizer = document.getElementById('resizer');
            const leftPanel = document.querySelector('.left-panel');
            const rightPanel = document.querySelector('.right-panel');
            const container = document.querySelector('.leetcode-container');
            
            let isResizing = false;
            
            resizer.addEventListener('mousedown', (e) => {
                isResizing = true;
                document.body.style.cursor = 'col-resize';
                document.body.style.userSelect = 'none';
                
                // Add overlay to prevent iframe interference
                const overlay = document.createElement('div');
                overlay.style.position = 'fixed';
                overlay.style.top = '0';
                overlay.style.left = '0';
                overlay.style.width = '100%';
                overlay.style.height = '100%';
                overlay.style.zIndex = '9999';
                overlay.style.cursor = 'col-resize';
                overlay.id = 'resize-overlay';
                document.body.appendChild(overlay);
            });
            
            document.addEventListener('mousemove', (e) => {
                if (!isResizing) return;
                
                const containerRect = container.getBoundingClientRect();
                const newLeftWidth = ((e.clientX - containerRect.left) / containerRect.width) * 100;
                
                // Constrain between 20% and 80%
                const constrainedWidth = Math.min(80, Math.max(20, newLeftWidth));
                
                leftPanel.style.width = constrainedWidth + '%';
                rightPanel.style.width = (100 - constrainedWidth) + '%';
            });
            
            document.addEventListener('mouseup', () => {
                if (isResizing) {
                    isResizing = false;
                    document.body.style.cursor = '';
                    document.body.style.userSelect = '';
                    
                    // Remove overlay
                    const overlay = document.getElementById('resize-overlay');
                    if (overlay) {
                        overlay.remove();
                    }
                }
            });
            
            // Double-click to reset to 50/50
            resizer.addEventListener('dblclick', () => {
                leftPanel.style.width = '50%';
                rightPanel.style.width = '50%';
            });
        });
    </script>
</body>
</html>